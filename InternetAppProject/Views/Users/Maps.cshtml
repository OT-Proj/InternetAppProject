
@{
    ViewData["Title"] = "Maps";
}

<h1>Maps</h1>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBv3FrtboIgOTxDsAS5u-HlPHOyy0_whV8"></script>

<input type="button" value="Click to Display Map" onclick="DisplayGoogleMap()" />
<div id="myDiv" style="width:100%;height:400px;"></div>

<script type="text/javascript">

    function DisplayGoogleMap() {

        //Set the Latitude and Longitude of the Map

        var address = "7519007";
        var latitude = 31.974952;
        var longitude = 34.775129;
        var zipcode = 695564;

        $.ajax({
            url: "https://maps.googleapis.com/maps/api/geocode/json?address=" + zipcode + "&sensor=false&key=AIzaSyBv3FrtboIgOTxDsAS5u-HlPHOyy0_whV8",
            method: "POST",
            success: function (data) {
                latitude = data.results[0].geometry.location.lat;
                longitude = data.results[0].geometry.location.lng;
                alert("Lat1 = " + latitude + "- Long = " + longitude);
            }

        });
        console.log("Latitude: " + latitude + "\nLongitude: " + longitude);
        var myAddress = new google.maps.LatLng(latitude, longitude);

        //Create Options or set different Characteristics of Google Map
        var mapOptions = {
            center: myAddress,
            zoom: 15,
            minZoom: 15,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        //Display the Google map in the div control with the defined Options
        var map = new google.maps.Map(document.getElementById("myDiv"), mapOptions);

        //Set Marker on the Map
        var marker;
        for (var i = 0; i < 5; i++) {
            myAddress = new google.maps.LatLng(latitude + 0.00000001, longitude + 0.00000001);
            marker = new google.maps.Marker({
                position: myAddress,
                animation: google.maps.Animation.BOUNCE,
            });

            marker.setMap(map);
        }
    }

</script>

